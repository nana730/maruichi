// qs@6.13.1 downloaded from https://ga.jspm.io/npm:qs@6.13.1/lib/index.js

import e from"./stringify.js";import{_ as r,a as t}from"../_/RyUlG3QG.js";import"side-channel";var a={};var o=r;var i=Object.prototype.hasOwnProperty;var n=Array.isArray;var l={allowDots:false,allowEmptyArrays:false,allowPrototypes:false,allowSparse:false,arrayLimit:20,charset:"utf-8",charsetSentinel:false,comma:false,decodeDotInKeys:false,decoder:o.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:false,interpretNumericEntities:false,parameterLimit:1e3,parseArrays:true,plainObjects:false,strictDepth:false,strictNullHandling:false};var interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,(function(e,r){return String.fromCharCode(parseInt(r,10))}))};var parseArrayValue=function(e,r){return e&&typeof e==="string"&&r.comma&&e.indexOf(",")>-1?e.split(","):e};var s="utf8=%26%2310003%3B";var p="utf8=%E2%9C%93";var c=function parseQueryStringValues(e,r){var t={__proto__:null};var a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;a=a.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c=r.parameterLimit===Infinity?void 0:r.parameterLimit;var d=a.split(r.delimiter,c);var f=-1;var y;var u=r.charset;if(r.charsetSentinel)for(y=0;y<d.length;++y)if(d[y].indexOf("utf8=")===0){d[y]===p?u="utf-8":d[y]===s&&(u="iso-8859-1");f=y;y=d.length}for(y=0;y<d.length;++y)if(y!==f){var m=d[y];var h=m.indexOf("]=");var v=h===-1?m.indexOf("="):h+1;var w;var b;if(v===-1){w=r.decoder(m,l.decoder,u,"key");b=r.strictNullHandling?null:""}else{w=r.decoder(m.slice(0,v),l.decoder,u,"key");b=o.maybeMap(parseArrayValue(m.slice(v+1),r),(function(e){return r.decoder(e,l.decoder,u,"value")}))}b&&r.interpretNumericEntities&&u==="iso-8859-1"&&(b=interpretNumericEntities(String(b)));m.indexOf("[]=")>-1&&(b=n(b)?[b]:b);var g=i.call(t,w);g&&r.duplicates==="combine"?t[w]=o.combine(t[w],b):g&&r.duplicates!=="last"||(t[w]=b)}return t};var parseObject=function(e,r,t,a){var o=a?r:parseArrayValue(r,t);for(var i=e.length-1;i>=0;--i){var n;var l=e[i];if(l==="[]"&&t.parseArrays)n=t.allowEmptyArrays&&(o===""||t.strictNullHandling&&o===null)?[]:[].concat(o);else{n=t.plainObjects?{__proto__:null}:{};var s=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l;var p=t.decodeDotInKeys?s.replace(/%2E/g,"."):s;var c=parseInt(p,10);if(t.parseArrays||p!=="")if(!isNaN(c)&&l!==p&&String(c)===p&&c>=0&&t.parseArrays&&c<=t.arrayLimit){n=[];n[c]=o}else p!=="__proto__"&&(n[p]=o);else n={0:o}}o=n}return o};var d=function parseQueryStringKeys(e,r,t,a){if(e){var o=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;var n=/(\[[^[\]]*])/;var l=/(\[[^[\]]*])/g;var s=t.depth>0&&n.exec(o);var p=s?o.slice(0,s.index):o;var c=[];if(p){if(!t.plainObjects&&i.call(Object.prototype,p)&&!t.allowPrototypes)return;c.push(p)}var d=0;while(t.depth>0&&(s=l.exec(o))!==null&&d<t.depth){d+=1;if(!t.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!t.allowPrototypes)return;c.push(s[1])}if(s){if(t.strictDepth===true)throw new RangeError("Input depth exceeded depth option of "+t.depth+" and strictDepth is true");c.push("["+o.slice(s.index)+"]")}return parseObject(c,r,t,a)}};var f=function normalizeParseOptions(e){if(!e)return l;if(typeof e.allowEmptyArrays!=="undefined"&&typeof e.allowEmptyArrays!=="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys!=="undefined"&&typeof e.decodeDotInKeys!=="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder!=="undefined"&&typeof e.decoder!=="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!=="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset==="undefined"?l.charset:e.charset;var t=typeof e.duplicates==="undefined"?l.duplicates:e.duplicates;if(t!=="combine"&&t!=="first"&&t!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots==="undefined"?e.decodeDotInKeys===true||l.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays==="boolean"?!!e.allowEmptyArrays:l.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes==="boolean"?e.allowPrototypes:l.allowPrototypes,allowSparse:typeof e.allowSparse==="boolean"?e.allowSparse:l.allowSparse,arrayLimit:typeof e.arrayLimit==="number"?e.arrayLimit:l.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel==="boolean"?e.charsetSentinel:l.charsetSentinel,comma:typeof e.comma==="boolean"?e.comma:l.comma,decodeDotInKeys:typeof e.decodeDotInKeys==="boolean"?e.decodeDotInKeys:l.decodeDotInKeys,decoder:typeof e.decoder==="function"?e.decoder:l.decoder,delimiter:typeof e.delimiter==="string"||o.isRegExp(e.delimiter)?e.delimiter:l.delimiter,depth:typeof e.depth==="number"||e.depth===false?+e.depth:l.depth,duplicates:t,ignoreQueryPrefix:e.ignoreQueryPrefix===true,interpretNumericEntities:typeof e.interpretNumericEntities==="boolean"?e.interpretNumericEntities:l.interpretNumericEntities,parameterLimit:typeof e.parameterLimit==="number"?e.parameterLimit:l.parameterLimit,parseArrays:e.parseArrays!==false,plainObjects:typeof e.plainObjects==="boolean"?e.plainObjects:l.plainObjects,strictDepth:typeof e.strictDepth==="boolean"?!!e.strictDepth:l.strictDepth,strictNullHandling:typeof e.strictNullHandling==="boolean"?e.strictNullHandling:l.strictNullHandling}};a=function(e,r){var t=f(r);if(e===""||e===null||typeof e==="undefined")return t.plainObjects?{__proto__:null}:{};var a=typeof e==="string"?c(e,t):e;var i=t.plainObjects?{__proto__:null}:{};var n=Object.keys(a);for(var l=0;l<n.length;++l){var s=n[l];var p=d(s,a[s],t,typeof e==="string");i=o.merge(i,p,t)}return t.allowSparse===true?i:o.compact(i)};var y=a;var u={};var m=e;var h=y;var v=t;u={formats:v,parse:h,stringify:m};var w=u;const b=u.formats,g=u.parse,D=u.stringify;export{w as default,b as formats,g as parse,D as stringify};

